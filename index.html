<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Tarot</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
body {
    background: url("background.png") center/cover;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
#cards {
    display: flex;
    gap: 15px;
}
.card {
    width: 120px;
    height: 200px;
    background: url("taro/back.png") center/cover;
    cursor: pointer;
}
.selected {
    border: 3px solid gold;
}
</style>
</head>
<body>

<div id="cards"></div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

const tarot = [
    "lovers.png",
    "justice.png",
    "temperance.png",
    "death.png",
    "tower.png"
];

let selected = [];

const container = document.getElementById("cards");

tarot.forEach(card => {
    const div = document.createElement("div");
    div.className = "card";

    div.onclick = () => {
        if (selected.length >= 3 || selected.includes(card)) return;

        div.style.background = `url("taro/${card}") center/cover`;
        div.classList.add("selected");
        selected.push(card.replace(".png", ""));

        if (selected.length === 3) {
            tg.sendData(JSON.stringify({
                cards: selected,
                question: "Общий прогноз"
            }));
            tg.close();
        }
    };

    container.appendChild(div);
});
</script>

</body>
</html>
